# 手写笔记模式使用说明

## 📍 功能入口位置

### 1. 进入手写笔记模式

**位置：** 图片全屏查看界面（`ImageFullscreenWithNotesActivity`）

**步骤：**
1. 打开任意题目的图片全屏查看界面
2. 在底部笔记输入区域，找到 **"手写模式"** 按钮
3. 点击 **"手写模式"** 按钮，即可进入全屏手写笔记界面

**界面位置：**
```
┌─────────────────────────┐
│   图片全屏显示区域      │
│                         │
│                         │
├─────────────────────────┤
│  笔记输入区域           │
│  [手写输入] [手写模式]  │ ← 这里！
│  [添加笔记输入框]       │
│  [添加] 按钮            │
└─────────────────────────┘
```

---

## 🎨 手写笔记模式功能

### 界面布局

```
┌─────────────────────────┐
│ [返回] [撤销] [重做] [清除] │ ← 顶部工具栏
├─────────────────────────┤
│ [画笔] [橡皮] [套索] [选择] │ ← 工具选择器
├─────────────────────────┤
│                         │
│     无限画布区域         │ ← 可以滚动、缩放
│   (整个空白区域可手写)   │
│                         │
├─────────────────────────┤
│  图层面板               │
│  [+ 添加图层]           │
│  ┌─────────────────┐   │
│  │ 图层 1  [👁] [🗑] │   │
│  └─────────────────┘   │
└─────────────────────────┘
```

---

## 🛠️ 功能详解

### 1. **顶部工具栏**

- **返回按钮**：退出手写笔记模式，返回图片查看界面
- **撤销按钮**：撤销上一步操作（最多 20 步）
- **重做按钮**：恢复被撤销的操作
- **清除按钮**：清除当前图层的所有内容

### 2. **工具选择器**

#### 🖊️ **画笔工具**
- **功能**：正常手写绘制
- **使用**：在画布上用手指或手写笔书写
- **特点**：黑色笔迹，平滑曲线

#### 🧹 **橡皮工具**
- **功能**：擦除已绘制的内容
- **使用**：在画布上滑动即可擦除
- **特点**：白色擦除效果

#### 🪝 **套索工具**
- **功能**：选择区域内的所有笔画
- **使用**：
  1. 点击"套索"按钮
  2. 在画布上圈选一个区域
  3. 松开手指，区域内的笔画会被选中
- **特点**：蓝色虚线显示选择区域

#### 👆 **选择工具**
- **功能**：点击选择并移动笔画
- **使用**：
  1. 点击"选择"按钮
  2. 点击画布上的任意笔画
  3. 拖动即可移动该笔画
- **特点**：实时移动，所见即所得

### 3. **无限画布**

- **滚动**：单指拖动即可平移画布
- **缩放**：双指捏合缩放（0.5x - 5x）
- **扩展**：画布大小 3000x4000 像素，可自由滚动
- **全屏手写**：整个空白区域都可以书写

### 4. **图层系统**

#### 添加图层
- 点击图层面板中的 **"+ 添加图层"** 按钮
- 新图层会自动命名为"图层 2"、"图层 3"等

#### 图层操作
- **显示/隐藏**：点击图层右侧的眼睛图标（👁）
- **删除图层**：点击图层右侧的删除按钮（🗑）
- **切换当前图层**：点击图层名称（当前图层用于绘制）

#### 图层用途
- **分层绘制**：不同内容放在不同图层，便于管理
- **独立编辑**：可以单独显示/隐藏某个图层
- **组合效果**：多个图层叠加显示

---

## 📝 使用流程示例

### 示例 1：手写笔记

1. 进入手写笔记模式
2. 选择"画笔"工具
3. 在画布上书写笔记内容
4. 如需修改，使用"橡皮"工具擦除
5. 完成后点击"返回"按钮

### 示例 2：使用图层

1. 在"图层 1"上写标题
2. 点击"+ 添加图层"创建"图层 2"
3. 在"图层 2"上写正文内容
4. 可以隐藏"图层 1"只查看正文
5. 可以删除不需要的图层

### 示例 3：使用套索工具

1. 选择"套索"工具
2. 圈选需要移动的内容
3. 切换到"选择"工具
4. 拖动选中的内容到新位置

---

## ⚠️ 注意事项

1. **撤销功能**：最多支持 20 步撤销，超过后最早的操作无法撤销
2. **清除功能**：只清除当前图层，其他图层不受影响
3. **图层删除**：删除图层会永久删除该图层的所有内容，请谨慎操作
4. **画布大小**：画布初始大小为 3000x4000，可通过滚动查看不同区域
5. **缩放限制**：缩放范围限制在 0.5x - 5x 之间

---

## 🔄 与其他功能的区别

### 手写模式 vs 普通笔记模式

| 功能 | 普通笔记模式 | 手写笔记模式 |
|------|------------|------------|
| 输入方式 | 键盘打字 | 手写绘制 |
| 界面 | 图片+笔记输入框 | 全屏画布 |
| 图层 | ❌ 不支持 | ✅ 支持多图层 |
| 套索工具 | ❌ 不支持 | ✅ 支持 |
| 无限画布 | ❌ 不支持 | ✅ 支持 |
| 撤销/重做 | ❌ 不支持 | ✅ 支持 |

---

## 🎯 适用场景

- ✅ 需要手写公式、图表
- ✅ 需要分层绘制复杂内容
- ✅ 需要精确选择和移动内容
- ✅ 需要大画布空间
- ✅ 需要专业绘图功能

---

## 📱 快速访问

**入口路径：**
```
主界面 
  → 题目详情 
    → 图片全屏查看 
      → 底部笔记区域 
        → "手写模式" 按钮
```

---

如有问题，请查看代码注释或联系开发者。


# 查看证书信息的方法

## 方法1：使用 keytool 查看 keystore 证书

如果 JDK 已安装，keytool 通常在以下位置之一：
- `C:\Program Files\Java\jdk-xx\bin\keytool.exe`
- `C:\Program Files\Android\Android Studio\jbr\bin\keytool.exe`

### 查看 keystore 中的证书信息：

```bash
# 方法A：如果 keytool 在 PATH 中
keytool -list -v -keystore "D:\chrome\anzhuozhengshu" -alias key0 -storepass "Qx1314521..."

# 方法B：使用完整路径（Android Studio 的 JDK）
"C:\Program Files\Android\Android Studio\jbr\bin\keytool.exe" -list -v -keystore "D:\chrome\anzhuozhengshu" -alias key0 -storepass "Qx1314521..."
```

### 只查看证书指纹（MD5/SHA1/SHA256）：

```bash
keytool -list -v -keystore "D:\chrome\anzhuozhengshu" -alias key0 -storepass "Qx1314521..." | findstr "SHA1\|SHA256\|MD5"
```

## 方法2：查看已安装 APK 的证书

### 使用 keytool 查看设备上已安装应用的证书：

```bash
# 先提取 APK（需要 root 或使用 adb）
adb pull /data/app/com.gongkao.cuotifupan-*/base.apk app.apk

# 查看 APK 的证书
keytool -printcert -jarfile app.apk
```

### 使用 apksigner（Android SDK 工具）：

```bash
# 查看 APK 签名信息
apksigner verify --print-certs app\build\outputs\apk\debug\app-debug.apk
```

## 方法3：使用 Android Studio

1. **Build** → **Generate Signed Bundle / APK**
2. 选择 **APK**
3. 在签名对话框中，可以看到证书信息

## 方法4：查看设备上已安装应用的证书

### 使用 adb 命令：

```bash
# 查看应用的签名信息
adb shell dumpsys package com.gongkao.cuotifupan | findstr "signatures"
```

## 方法5：使用 PowerShell 脚本（快速查看）

创建一个 PowerShell 脚本来查找并使用 keytool：

```powershell
# 查找 keytool
$keytoolPaths = @(
    "C:\Program Files\Android\Android Studio\jbr\bin\keytool.exe",
    "C:\Program Files\Java\*\bin\keytool.exe"
)

$keytool = $null
foreach ($path in $keytoolPaths) {
    $found = Get-ChildItem -Path $path -ErrorAction SilentlyContinue
    if ($found) {
        $keytool = $found.FullName
        break
    }
}

if ($keytool) {
    & $keytool -list -v -keystore "D:\chrome\anzhuozhengshu" -alias key0 -storepass "Qx1314521..."
} else {
    Write-Host "未找到 keytool，请手动指定路径"
}
```

## 证书信息说明

查看证书时会显示：
- **证书指纹（SHA1/SHA256）**：用于验证签名
- **所有者（Owner）**：证书所有者信息
- **颁发者（Issuer）**：证书颁发者
- **有效期**：证书的有效期

## 快速验证签名是否一致

比较两个 APK 的证书指纹，如果相同则签名一致：

```bash
# 查看 Debug APK 的证书
keytool -printcert -jarfile app\build\outputs\apk\debug\app-debug.apk

# 查看 Release APK 的证书
keytool -printcert -jarfile app\build\outputs\apk\release\app-release.apk
```

如果两个证书的 SHA1 或 SHA256 指纹相同，说明使用了相同的签名。


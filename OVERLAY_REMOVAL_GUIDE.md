# éƒ¨åˆ†é®æŒ¡é¢˜ç›®è¯†åˆ«æ–¹æ¡ˆ

## ðŸ“‹ é—®é¢˜æè¿°

éƒ¨åˆ†é¢˜ç›®å›¾ç‰‡ä¸­ï¼Œéƒ¨åˆ†å†…å®¹è¢«é®æŒ¡ï¼ˆå¦‚çº¢è‰²/ç»¿è‰²ç¬”è§¦ã€æ ‡è®°ç­‰ï¼‰ï¼Œå½±å“OCRè¯†åˆ«å‡†ç¡®çŽ‡ã€‚

## âœ… è§£å†³æ–¹æ¡ˆ

### å·²å®žçŽ°çš„åŠŸèƒ½

1. **è‡ªåŠ¨åŽ»é™¤é®æŒ¡å±‚**
   - æ£€æµ‹çº¢è‰²ã€ç»¿è‰²ç­‰é²œè‰³é¢œè‰²çš„é®æŒ¡
   - å°†é®æŒ¡åŒºåŸŸæ›¿æ¢ä¸ºèƒŒæ™¯è‰²
   - æé«˜OCRè¯†åˆ«å‡†ç¡®çŽ‡

2. **æ™ºèƒ½èƒŒæ™¯è‰²æ£€æµ‹**
   - è‡ªåŠ¨æ£€æµ‹å›¾ç‰‡çš„èƒŒæ™¯è‰²ï¼ˆé€šå¸¸æ˜¯ç™½è‰²æˆ–æµ…è‰²ï¼‰
   - ä½¿ç”¨å¹³å‡èƒŒæ™¯è‰²æ›¿æ¢é®æŒ¡åŒºåŸŸ

3. **é®æŒ¡é¢œè‰²æ£€æµ‹**
   - æ£€æµ‹çº¢è‰²ï¼ˆRå€¼é«˜ï¼ŒGå’ŒBå€¼ä½Žï¼‰
   - æ£€æµ‹ç»¿è‰²ï¼ˆGå€¼é«˜ï¼ŒRå’ŒBå€¼ä½Žï¼‰
   - æ£€æµ‹è“è‰²ã€é»„è‰²ç­‰é«˜é¥±å’Œåº¦é¢œè‰²
   - æ£€æµ‹é«˜é¥±å’Œåº¦é¢œè‰²ï¼ˆé¥±å’Œåº¦ > 0.5ï¼‰

### å·¥ä½œåŽŸç†

```
åŽŸå§‹å›¾ç‰‡ â†’ æ£€æµ‹é®æŒ¡é¢œè‰² â†’ æ›¿æ¢ä¸ºèƒŒæ™¯è‰² â†’ ç°åº¦è½¬æ¢ â†’ OCRè¯†åˆ«
```

1. **æ£€æµ‹é®æŒ¡é¢œè‰²**
   - æ‰«æå›¾ç‰‡ï¼Œæ£€æµ‹çº¢è‰²ã€ç»¿è‰²ç­‰é²œè‰³é¢œè‰²
   - è¯†åˆ«é«˜é¥±å’Œåº¦åŒºåŸŸ

2. **æ›¿æ¢é®æŒ¡åŒºåŸŸ**
   - å°†é®æŒ¡åƒç´ æ›¿æ¢ä¸ºèƒŒæ™¯è‰²
   - å¤„ç†å‘¨å›´åƒç´ ï¼ŒåŽ»é™¤æ‰©æ•£æ•ˆæžœ

3. **å¢žå¼ºå¯¹æ¯”åº¦**
   - è½¬æ¢ä¸ºç°åº¦å›¾
   - å¢žå¼ºå¯¹æ¯”åº¦ï¼Œæé«˜æ–‡å­—è¯†åˆ«çŽ‡

## ðŸ”§ æŠ€æœ¯ç»†èŠ‚

### é®æŒ¡é¢œè‰²æ£€æµ‹è§„åˆ™

```kotlin
// çº¢è‰²é®æŒ¡ï¼šR > 200, G < 150, B < 150, (R-G) > 50, (R-B) > 50
// ç»¿è‰²é®æŒ¡ï¼šG > 200, R < 150, B < 150, (G-R) > 50, (G-B) > 50
// è“è‰²é®æŒ¡ï¼šB > 200, R < 150, G < 150, (B-R) > 50, (B-G) > 50
// é»„è‰²é®æŒ¡ï¼šR > 200, G > 200, B < 100, (R+G-B) > 200
// é«˜é¥±å’Œåº¦ï¼šsaturation > 0.5 && max > 180
```

### æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨é‡‡æ ·æ£€æµ‹ï¼ˆä¸æ˜¯æ¯ä¸ªåƒç´ éƒ½æ£€æµ‹ï¼‰
- é‡‡æ ·æ­¥é•¿ï¼š`min(width, height) / 200`
- èƒŒæ™¯è‰²æ£€æµ‹ï¼šæ¯5ä¸ªé‡‡æ ·ç‚¹æ£€æµ‹ä¸€æ¬¡

## ðŸ“Š æ•ˆæžœ

### é¢„æœŸæ•ˆæžœ

1. **åŽ»é™¤é®æŒ¡åŽ**
   - è¢«é®æŒ¡çš„æ–‡å­—åŒºåŸŸå˜ä¸ºèƒŒæ™¯è‰²
   - OCRå¯ä»¥è¯†åˆ«æœªè¢«é®æŒ¡çš„æ–‡å­—éƒ¨åˆ†
   - å³ä½¿éƒ¨åˆ†æ–‡å­—è¢«é®æŒ¡ï¼Œä¹Ÿèƒ½è¯†åˆ«å‡ºé¢˜ç›®ç»“æž„

2. **è¯†åˆ«å‡†ç¡®çŽ‡æå‡**
   - é€‰é¡¹æ ‡è®°ï¼ˆA/B/C/Dï¼‰æ›´å®¹æ˜“è¯†åˆ«
   - é¢˜å¹²æ–‡å­—æ›´å®¹æ˜“è¯†åˆ«
   - é¢˜ç›®ç»“æž„æ›´å®¹æ˜“è¯†åˆ«

### å±€é™æ€§

1. **å®Œå…¨é®æŒ¡çš„æ–‡å­—æ— æ³•æ¢å¤**
   - å¦‚æžœæ–‡å­—å®Œå…¨è¢«é®æŒ¡ï¼Œæ— æ³•æ¢å¤
   - ä½†å¯ä»¥è¯†åˆ«é¢˜ç›®ç»“æž„ï¼ˆé€‰é¡¹ã€é¢˜å¹²ç­‰ï¼‰

2. **é®æŒ¡é¢œè‰²æ£€æµ‹å¯èƒ½ä¸å®Œç¾Ž**
   - å¦‚æžœé®æŒ¡é¢œè‰²ä¸Žæ–‡å­—é¢œè‰²æŽ¥è¿‘ï¼Œå¯èƒ½è¯¯åˆ¤
   - å¯ä»¥é€šè¿‡è°ƒæ•´é˜ˆå€¼æ¥ä¼˜åŒ–

## ðŸŽ¯ ä½¿ç”¨å»ºè®®

### å¦‚æžœè¯†åˆ«æ•ˆæžœä¸ç†æƒ³

1. **è°ƒæ•´é®æŒ¡é¢œè‰²æ£€æµ‹é˜ˆå€¼**
   ```kotlin
   // åœ¨ detectOverlayColor å‡½æ•°ä¸­
   // é™ä½Žé˜ˆå€¼ï¼Œæ£€æµ‹æ›´å¤šé®æŒ¡
   val isRed = r > 180 && g < 160 && b < 160  // ä»Ž200é™ä½Žåˆ°180
   ```

2. **å¢žå¼ºå¯¹æ¯”åº¦**
   ```kotlin
   // åœ¨ preprocessImage å‡½æ•°ä¸­
   val contrast = 1.5f  // ä»Ž1.3æé«˜åˆ°1.5
   ```

3. **ä½¿ç”¨å¤šæ¬¡è¯†åˆ«**
   - åŽŸå›¾è¯†åˆ«ä¸€æ¬¡
   - åŽ»é™¤é®æŒ¡åŽè¯†åˆ«ä¸€æ¬¡
   - åˆå¹¶è¯†åˆ«ç»“æžœ

## ðŸ“ æ—¥å¿—è¾“å‡º

åŽ»é™¤é®æŒ¡æ—¶ä¼šè¾“å‡ºæ—¥å¿—ï¼š
```
TextRecognizer: åŽ»é™¤é®æŒ¡å±‚: å¤„ç†äº†çº¦ XXX ä¸ªåƒç´ ç‚¹
```

å¦‚æžœçœ‹åˆ°è¿™ä¸ªæ—¥å¿—ï¼Œè¯´æ˜Žæ£€æµ‹åˆ°å¹¶å¤„ç†äº†é®æŒ¡ã€‚

## ðŸ” éªŒè¯æ–¹æ³•

1. **æŸ¥çœ‹æ—¥å¿—**
   - æ£€æŸ¥æ˜¯å¦æœ‰"åŽ»é™¤é®æŒ¡å±‚"çš„æ—¥å¿—
   - æ£€æŸ¥OCRè¯†åˆ«ç»“æžœæ˜¯å¦æ”¹å–„

2. **å¯¹æ¯”è¯†åˆ«ç»“æžœ**
   - åŽ»é™¤é®æŒ¡å‰åŽçš„è¯†åˆ«ç»“æžœå¯¹æ¯”
   - æ£€æŸ¥è¢«é®æŒ¡åŒºåŸŸçš„æ–‡å­—æ˜¯å¦æ›´å®¹æ˜“è¯†åˆ«

